<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Markdown Print Preview</title>
    <link rel="stylesheet" href="/static/print.css">
</head>
<body>
<div class="app">
    <form class="app-form" method="post">
        <div class="toolbar screen-only">
            <div class="toolbar__section">
                <button type="submit" class="primary js-render">Render</button>
                <button type="button" class="js-print">Print</button>
                <button type="button" class="js-clear">Clear</button>
                <button type="button" class="js-sample">Insert sample</button>
            </div>
            <div class="toolbar__section toolbar__section--controls">
                <label class="toggle" for="live-preview">
                    <input id="live-preview" class="js-live-toggle" type="checkbox">
                    <span>Live preview</span>
                </label>
                <label class="slider" for="editor-size">
                    <span>Editor size</span>
                    <input id="editor-size" class="js-editor-size" type="range" min="12" max="20" step="1" value="14">
                    <output class="js-editor-size-value" for="editor-size">14px</output>
                </label>
                <label class="slider" for="preview-zoom">
                    <span>Preview zoom</span>
                    <input id="preview-zoom" class="js-preview-zoom" type="range" min="80" max="140" step="5" value="100">
                    <output class="js-preview-zoom-value" for="preview-zoom">100%</output>
                </label>
                <button type="button" class="settings-toggle js-settings-toggle" aria-expanded="false" aria-controls="print-settings-panel">
                    Print settings
                </button>
            </div>
        </div>

        <div class="settings-drawer screen-only js-settings-drawer" id="print-settings-panel" data-open="false" aria-hidden="true">
            <div class="settings-drawer__backdrop js-settings-close" aria-hidden="true"></div>
            <aside class="settings-drawer__panel" role="dialog" aria-modal="true" aria-labelledby="print-settings-title">
                <div class="settings-drawer__header">
                    <div>
                        <div class="settings-drawer__title" id="print-settings-title">Print settings</div>
                        <div class="settings-drawer__subtitle">Affects printed output</div>
                    </div>
                    <div class="settings-drawer__actions">
                        <button type="button" class="js-settings-reset">Reset</button>
                        <button type="button" class="js-settings-close">Close</button>
                    </div>
                </div>
                <div class="settings-drawer__content">
                    <fieldset class="settings-group">
                        <legend>Paper</legend>
                        <label class="select" for="paper-size">
                            <span>Paper size</span>
                            <select id="paper-size" class="js-paper-size">
                                <option value="letter">US Letter (8.5 × 11 in)</option>
                                <option value="a4">A4 (210 × 297 mm)</option>
                                <option value="legal">US Legal (8.5 × 14 in)</option>
                            </select>
                        </label>
                        <label class="slider settings-slider" for="print-margin">
                            <span>Page margin</span>
                            <input id="print-margin" class="js-print-margin" type="range" min="0.25" max="1.5" step="0.25" value="0.75">
                            <output class="js-print-margin-value" for="print-margin">0.75in</output>
                        </label>
                    </fieldset>

                    <fieldset class="settings-group">
                        <legend>Density</legend>
                        <div class="segmented">
                            <button type="button" class="segmented__item js-density-button" data-density="compact" aria-pressed="false">
                                Compact
                            </button>
                            <button type="button" class="segmented__item js-density-button is-active" data-density="normal" aria-pressed="true">
                                Normal
                            </button>
                            <button type="button" class="segmented__item js-density-button" data-density="roomy" aria-pressed="false">
                                Roomy
                            </button>
                        </div>
                        <p class="settings-group__help">Sets line height and paragraph spacing.</p>
                    </fieldset>

                    <fieldset class="settings-group">
                        <legend>Layout</legend>
                        <label class="slider settings-slider" for="print-width">
                            <span>Content width</span>
                            <input id="print-width" class="js-print-width" type="range" min="6.25" max="8.5" step="0.25" value="7">
                            <output class="js-print-width-value" for="print-width">7in</output>
                        </label>
                    </fieldset>

                    <fieldset class="settings-group">
                        <legend>Code</legend>
                        <label class="slider settings-slider" for="print-code-size">
                            <span>Code size</span>
                            <input id="print-code-size" class="js-print-code-size" type="range" min="8" max="12" step="0.5" value="9">
                            <output class="js-print-code-size-value" for="print-code-size">9pt</output>
                        </label>
                    </fieldset>

                    <fieldset class="settings-group">
                        <legend>Tables</legend>
                        <label class="slider settings-slider" for="print-table-padding">
                            <span>Cell padding (v/h)</span>
                            <input id="print-table-padding" class="js-print-table-padding" type="range" min="2" max="8" step="1" value="4">
                            <output class="js-print-table-padding-value" for="print-table-padding">4px / 6px</output>
                        </label>
                    </fieldset>
                </div>
            </aside>
        </div>

        <div class="workspace">
            <section class="pane editor-pane screen-only">
                <div class="pane-header">
                    <label for="markdown-input">Markdown</label>
                </div>
                <textarea id="markdown-input" class="js-markdown" name="markdown" placeholder="Paste Markdown here...">{{ source }}</textarea>
                {% if error %}
                    <div class="alert js-error" role="status" aria-live="polite">{{ error }}</div>
                {% else %}
                    <div class="alert js-error is-hidden" role="status" aria-live="polite"></div>
                {% endif %}
            </section>

            <section class="pane preview-pane">
                <div class="pane-header screen-only">
                    <div class="pane-title">Preview</div>
                    <div class="pane-subtitle">Print-ready layout</div>
                </div>
                <div class="preview-surface">
                    <div class="preview-stage js-preview-stage">
                        <div class="page-guides screen-only js-page-guides" aria-hidden="true"></div>
                        <div class="page-preview js-page-preview">
                            <div class="print-area preview-content js-preview">
                                {% if rendered_html %}
                                    {{ rendered_html | safe }}
                                {% else %}
                                    <div class="preview-empty">Preview will appear here.</div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </form>
</div>

<script src="/static/app.js" defer></script>
</body>
</html>
